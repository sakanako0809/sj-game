<!DOCTYPE html>
<html lang="zh-TW">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>SJÂãïÁâ©Ê∞¥ÊûúÁ≥ªÂàó</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="./css.css" />
  </head>
  <body class="bg-gradient-to-br from-pink-100 to-purple-100 min-h-screen">
    <!-- ËßíËâ≤ÈÅ∏ÊìáÈ†ÅÈù¢ -->
    <div id="dollSelectionPage" class="container mx-auto p-4 max-w-6xl">
      <div class="text-center mb-8">
        <p class="text-xl text-gray-600 mb-2">ÈÅ∏Êìá‰Ω†ÂñúÊ≠°ÁöÑËßíËâ≤ÔºÅ</p>
        <p class="text-gray-500">ÈªûÊìä‰∏ãÊñπ‰ªª‰∏ÄËßíËâ≤ÈÄ≤ÂÖ•Ë£ùÊâÆÊ®°Âºè</p>
      </div>

      <div class="grid grid-cols-2 md:grid-cols-4 gap-6 mb-8">
        <div
          class="doll-card bg-white rounded-2xl shadow-lg p-6 text-center"
          onclick="selectDoll('idol3', 'yesung')"
        >
          <div class="mb-4 flex justify-center">
            <img
              src="./img/yesung.jpeg"
              alt=""
              class="object-cover rounded-lg"
              onerror="this.src='data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTIwIiBoZWlnaHQ9IjE2MCIgdmlld0JveD0iMCAwIDEyMCAxNjAiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PGNpcmNsZSBjeD0iNjAiIGN5PSIzNSIgcj0iMjUiIGZpbGw9IiNmZGJjYjQiLz48cGF0aCBkPSJNMzUgMjUgUTYwIDEwIDg1IDI1IEE4NSAxNSA2MCAxNSBRMzUgMTUgMzUgMjUiIGZpbGw9IiM4YjQ1MTMiLz48Y2lyY2xlIGN4PSI1MiIgY3k9IjMyIiByPSIzIiBmaWxsPSIjMDAwIi8+PGNpcmNsZSBjeD0iNjgiIGN5PSIzMiIgcj0iMyIgZmlsbD0iIzAwMCIvPjxwYXRoIGQ9Ik01NSA0MCBRNTQ2MCA0MyA2NSA0MCIgc3Ryb2tlPSIjMDAwIiBzdHJva2Utd2lkdGg9IjEiIGZpbGw9Im5vbmUiLz48cmVjdCB4PSI0NSIgeT0iNjAiIHdpZHRoPSIzMCIgaGVpZ2h0PSI0MCIgcng9IjE1IiBmaWxsPSIjZmY2OWI0Ii8+PGNpcmNsZSBjeD0iMzUiIGN5PSI3MCIgcj0iOCIgZmlsbD0iI2ZkYmNiNCIvPjxjaXJjbGUgY3g9Ijg1IiBjeT0iNzAiIHI9IjgiIGZpbGw9IiNmZGJjYjQiLz48cGF0aCBkPSJNNDAgMTAwIFE2MCAxMTAgODAgMTAwIEw4NSAxMzAgUTYwIDEzNSAzNSAxMzAgWiIgZmlsbD0iI2ZmMTQ5MyIvPjxyZWN0IHg9IjUwIiB5PSIxMzAiIHdpZHRoPSI2IiBoZWlnaHQ9IjI1IiBmaWxsPSIjZmRiY2I0Ii8+PHJlY3QgeD0iNjQiIHk9IjEzMCIgd2lkdGg9IjYiIGhlaWdodD0iMjUiIGZpbGw9IiNmZGJjYjQiLz48ZWxsaXBzZSBjeD0iNTMiIGN5PSIxNTciIHJ4PSI4IiByeT0iMyIgZmlsbD0iIzAwMCIvPjxlbGxpcHNlIGN4PSI2NyIgY3k9IjE1NyIgcng9IjgiIHJ5PSIzIiBmaWxsPSIjMDAwIi8+PC9zdmc+'; this.alt='<Samp></Samp>ÂúñÁâáËºâÂÖ•Â§±Êïó';"
            />
          </div>
        </div>
        <div
          class="doll-card bg-white rounded-2xl shadow-lg p-6 text-center"
          onclick="selectDoll('idol4', 'shin')"
        >
          <div class="mb-4 flex justify-center">
            <img
              src="./img/shin.PNG"
              alt=""
              class="object-cover rounded-lg"
              onerror="this.src='data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTIwIiBoZWlnaHQ9IjE2MCIgdmlld0JveD0iMCAwIDEyMCAxNjAiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PGNpcmNsZSBjeD0iNjAiIGN5PSIzNSIgcj0iMjUiIGZpbGw9IiNmZGJjYjQiLz48cGF0aCBkPSJNMzUgMjUgUTYwIDEwIDg1IDI1IEE4NSAxNSA2MCAxNSBRMzUgMTUgMzUgMjUiIGZpbGw9IiM4YjQ1MTMiLz48Y2lyY2xlIGN4PSI1MiIgY3k9IjMyIiByPSIzIiBmaWxsPSIjMDAwIi8+PGNpcmNsZSBjeD0iNjgiIGN5PSIzMiIgcj0iMyIgZmlsbD0iIzAwMCIvPjxwYXRoIGQ9Ik01NSA0MCBRNTQ2MCA0MyA2NSA0MCIgc3Ryb2tlPSIjMDAwIiBzdHJva2Utd2lkdGg9IjEiIGZpbGw9Im5vbmUiLz48cmVjdCB4PSI0NSIgeT0iNjAiIHdpZHRoPSIzMCIgaGVpZ2h0PSI0MCIgcng9IjE1IiBmaWxsPSIjZmY2OWI0Ii8+PGNpcmNsZSBjeD0iMzUiIGN5PSI3MCIgcj0iOCIgZmlsbD0iI2ZkYmNiNCIvPjxjaXJjbGUgY3g9Ijg1IiBjeT0iNzAiIHI9IjgiIGZpbGw9IiNmZGJjYjQiLz48cGF0aCBkPSJNNDAgMTAwIFE2MCAxMTAgODAgMTAwIEw4NSAxMzAgUTYwIDEzNSAzNSAxMzAgWiIgZmlsbD0iI2ZmMTQ5MyIvPjxyZWN0IHg9IjUwIiB5PSIxMzAiIHdpZHRoPSI2IiBoZWlnaHQ9IjI1IiBmaWxsPSIjZmRiY2I0Ii8+PHJlY3QgeD0iNjQiIHk9IjEzMCIgd2lkdGg9IjYiIGhlaWdodD0iMjUiIGZpbGw9IiNmZGJjYjQiLz48ZWxsaXBzZSBjeD0iNTMiIGN5PSIxNTciIHJ4PSI4IiByeT0iMyIgZmlsbD0iIzAwMCIvPjxlbGxpcHNlIGN4PSI2NyIgY3k9IjE1NyIgcng9IjgiIHJ5PSIzIiBmaWxsPSIjMDAwIi8+PC9zdmc+'; this.alt='<Samp></Samp>ÂúñÁâáËºâÂÖ•Â§±Êïó';"
            />
          </div>
        </div>
        <div
          class="doll-card bg-white rounded-2xl shadow-lg p-6 text-center"
          onclick="selectDoll('idol5', 'eunhyuk')"
        >
          <div class="mb-4 flex justify-center">
            <img
              src="./img/eunh.PNG"
              alt=""
              class="object-cover rounded-lg"
              onerror="this.src='data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTIwIiBoZWlnaHQ9IjE2MCIgdmlld0JveD0iMCAwIDEyMCAxNjAiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PGNpcmNsZSBjeD0iNjAiIGN5PSIzNSIgcj0iMjUiIGZpbGw9IiNmZGJjYjQiLz48cGF0aCBkPSJNMzUgMjUgUTYwIDEwIDg1IDI1IEE4NSAxNSA2MCAxNSBRMzUgMTUgMzUgMjUiIGZpbGw9IiM4YjQ1MTMiLz48Y2lyY2xlIGN4PSI1MiIgY3k9IjMyIiByPSIzIiBmaWxsPSIjMDAwIi8+PGNpcmNsZSBjeD0iNjgiIGN5PSIzMiIgcj0iMyIgZmlsbD0iIzAwMCIvPjxwYXRoIGQ9Ik01NSA0MCBRNTQ2MCA0MyA2NSA0MCIgc3Ryb2tlPSIjMDAwIiBzdHJva2Utd2lkdGg9IjEiIGZpbGw9Im5vbmUiLz48cmVjdCB4PSI0NSIgeT0iNjAiIHdpZHRoPSIzMCIgaGVpZ2h0PSI0MCIgcng9IjE1IiBmaWxsPSIjZmY2OWI0Ii8+PGNpcmNsZSBjeD0iMzUiIGN5PSI3MCIgcj0iOCIgZmlsbD0iI2ZkYmNiNCIvPjxjaXJjbGUgY3g9Ijg1IiBjeT0iNzAiIHI9IjgiIGZpbGw9IiNmZGJjYjQiLz48cGF0aCBkPSJNNDAgMTAwIFE2MCAxMTAgODAgMTAwIEw4NSAxMzAgUTYwIDEzNSAzNSAxMzAgWiIgZmlsbD0iI2ZmMTQ5MyIvPjxyZWN0IHg9IjUwIiB5PSIxMzAiIHdpZHRoPSI2IiBoZWlnaHQ9IjI1IiBmaWxsPSIjZmRiY2I0Ii8+PHJlY3QgeD0iNjQiIHk9IjEzMCIgd2lkdGg9IjYiIGhlaWdodD0iMjUiIGZpbGw9IiNmZGJjYjQiLz48ZWxsaXBzZSBjeD0iNTMiIGN5PSIxNTciIHJ4PSI4IiByeT0iMyIgZmlsbD0iIzAwMCIvPjxlbGxpcHNlIGN4PSI2NyIgY3k9IjE1NyIgcng9IjgiIHJ5PSIzIiBmaWxsPSIjMDAwIi8+PC9zdmc+'; this.alt='ÂúñÁâáËºâÂÖ•Â§±Êïó';"
            />
          </div>
        </div>
        <div
          class="doll-card bg-white rounded-2xl shadow-lg p-6 text-center"
          onclick="selectDoll('idol6', 'hea')"
        >
          <div class="mb-4 flex justify-center">
            <img
              src="./img/hea.PNG"
              alt=""
              class="object-cover rounded-lg"
              onerror="this.src='data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTIwIiBoZWlnaHQ9IjE2MCIgdmlld0JveD0iMCAwIDEyMCAxNjAiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PGNpcmNsZSBjeD0iNjAiIGN5PSIzNSIgcj0iMjUiIGZpbGw9IiNmZGJjYjQiLz48cGF0aCBkPSJNMzUgMjUgUTYwIDEwIDg1IDI1IEE4NSAxNSA2MCAxNSBRMzUgMTUgMzUgMjUiIGZpbGw9IiM4YjQ1MTMiLz48Y2lyY2xlIGN4PSI1MiIgY3k9IjMyIiByPSIzIiBmaWxsPSIjMDAwIi8+PGNpcmNsZSBjeD0iNjgiIGN5PSIzMiIgcj0iMyIgZmlsbD0iIzAwMCIvPjxwYXRoIGQ9Ik01NSA0MCBRNTQ2MCA0MyA2NSA0MCIgc3Ryb2tlPSIjMDAwIiBzdHJva2Utd2lkdGg9IjEiIGZpbGw9Im5vbmUiLz48cmVjdCB4PSI0NSIgeT0iNjAiIHdpZHRoPSIzMCIgaGVpZ2h0PSI0MCIgcng9IjE1IiBmaWxsPSIjZmY2OWI0Ii8+PGNpcmNsZSBjeD0iMzUiIGN5PSI3MCIgcj0iOCIgZmlsbD0iI2ZkYmNiNCIvPjxjaXJjbGUgY3g9Ijg1IiBjeT0iNzAiIHI9IjgiIGZpbGw9IiNmZGJjYjQiLz48cGF0aCBkPSJNNDAgMTAwIFE2MCAxMTAgODAgMTAwIEw4NSAxMzAgUTYwIDEzNSAzNSAxMzAgWiIgZmlsbD0iI2ZmMTQ5MyIvPjxyZWN0IHg9IjUwIiB5PSIxMzAiIHdpZHRoPSI2IiBoZWlnaHQ9IjI1IiBmaWxsPSIjZmRiY2I0Ii8+PHJlY3QgeD0iNjQiIHk9IjEzMCIgd2lkdGg9IjYiIGhlaWdodD0iMjUiIGZpbGw9IiNmZGJjYjQiLz48ZWxsaXBzZSBjeD0iNTMiIGN5PSIxNTciIHJ4PSI4IiByeT0iMyIgZmlsbD0iIzAwMCIvPjxlbGxpcHNlIGN4PSI2NyIgY3k9IjE1NyIgcng9IjgiIHJ5PSIzIiBmaWxsPSIjMDAwIi8+PC9zdmc+'; this.alt='ÂúñÁâáËºâÂÖ•Â§±Êïó';"
            />
          </div>
        </div>
        <div
          class="doll-card bg-white rounded-2xl shadow-lg p-6 text-center"
          onclick="selectDoll('idol9', 'kyu')"
        >
          <div class="mb-4 flex justify-center">
            <img
              src="./img/kyu.jpeg"
              alt=""
              class="object-cover rounded-lg"
              onerror="this.src='data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTIwIiBoZWlnaHQ9IjE2MCIgdmlld0JveD0iMCAwIDEyMCAxNjAiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PGNpcmNsZSBjeD0iNjAiIGN5PSIzNSIgcj0iMjUiIGZpbGw9IiNmZGJjYjQiLz48cGF0aCBkPSJNMzUgMjUgUTYwIDEwIDg1IDI1IEE4NSAxNSA2MCAxNSBRMzUgMTUgMzUgMjUiIGZpbGw9IiM4YjQ1MTMiLz48Y2lyY2xlIGN4PSI1MiIgY3k9IjMyIiByPSIzIiBmaWxsPSIjMDAwIi8+PGNpcmNsZSBjeD0iNjgiIGN5PSIzMiIgcj0iMyIgZmlsbD0iIzAwMCIvPjxwYXRoIGQ9Ik01NSA0MCBRNTQ2MCA0MyA2NSA0MCIgc3Ryb2tlPSIjMDAwIiBzdHJva2Utd2lkdGg9IjEiIGZpbGw9Im5vbmUiLz48cmVjdCB4PSI0NSIgeT0iNjAiIHdpZHRoPSIzMCIgaGVpZ2h0PSI0MCIgcng9IjE1IiBmaWxsPSIjZmY2OWI0Ii8+PGNpcmNsZSBjeD0iMzUiIGN5PSI3MCIgcj0iOCIgZmlsbD0iI2ZkYmNiNCIvPjxjaXJjbGUgY3g9Ijg1IiBjeT0iNzAiIHI9IjgiIGZpbGw9IiNmZGJjYjQiLz48cGF0aCBkPSJNNDAgMTAwIFE2MCAxMTAgODAgMTAwIEw4NSAxMzAgUTYwIDEzNSAzNSAxMzAgWiIgZmlsbD0iI2ZmMTQ5MyIvPjxyZWN0IHg9IjUwIiB5PSIxMzAiIHdpZHRoPSI2IiBoZWlnaHQ9IjI1IiBmaWxsPSIjZmRiY2I0Ii8+PHJlY3QgeD0iNjQiIHk9IjEzMCIgd2lkdGg9IjYiIGhlaWdodD0iMjUiIGZpbGw9IiNmZGJjYjQiLz48ZWxsaXBzZSBjeD0iNTMiIGN5PSIxNTciIHJ4PSI4IiByeT0iMyIgZmlsbD0iIzAwMCIvPjxlbGxpcHNlIGN4PSI2NyIgY3k9IjE1NyIgcng9IjgiIHJ5PSIzIiBmaWxsPSIjMDAwIi8+PC9zdmc+'; this.alt='ÂúñÁâáËºâÂÖ•Â§±Êïó';"
            />
          </div>
        </div>
      </div>
    </div>

    <!-- ÈÅäÊà≤‰∏ªÈ†ÅÈù¢ -->
    <div
      id="gameMainPage"
      class="container mx-auto p-4 max-w-7xl"
      style="display: none"
    >
      <!-- Ê®ôÈ°å -->
      <div class="text-center mb-6">
        <div class="mt-2 flex justify-center items-center space-x-4">
          <span
            class="bg-blue-100 text-blue-800 px-3 py-1 rounded-full text-sm"
          >
            Â∑≤ÊîæÁΩÆ: <span id="itemCount">0</span>/10
          </span>
          <button
            onclick="backToDollSelection()"
            class="bg-gray-500 hover:bg-gray-600 text-white px-4 py-2 rounded-lg text-sm transition-colors"
          >
            ÈáçÈÅ∏ËßíËâ≤
          </button>
        </div>
      </div>

      <div class="grid grid-cols-1 lg:grid-cols-3 gap-6">
        <!-- Â∑¶ÂÅ¥Áâ©‰ª∂Ê¨Ñ -->
        <div class="lg:col-span-1">
          <div class="bg-white rounded-2xl shadow-lg p-6">
            <h2 class="text-2xl font-bold text-gray-800 mb-4 flex items-center">
              Áâ©‰ª∂
            </h2>
            <div
              class="grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-2 gap-4"
              id="itemsContainer"
            >
              <!-- Áâ©‰ª∂ÊúÉÂãïÊÖãÁîüÊàê -->
            </div>
          </div>
        </div>

        <!-- Âè≥ÂÅ¥ËßíËâ≤ÂçÄÂüü -->
        <div class="lg:col-span-2">
          <div class="bg-white rounded-2xl shadow-lg p-6">
            <h2
              class="text-2xl font-bold text-gray-800 mb-4 flex items-center justify-between"
            >
              <button
                onclick="clearAll()"
                class="bg-red-500 hover:bg-red-600 text-white px-4 py-2 rounded-lg text-sm transition-colors"
              >
                Ê∏ÖÈô§ÂÖ®ÈÉ®Áâ©‰ª∂
              </button>
            </h2>
            <div
              class="doll-area rounded-xl h-96 md:h-[500px] relative border-4 border-dashed border-gray-300"
              id="dollArea"
            >
              <!-- ËßíËâ≤Êú¨È´î -->
              <div
                class="absolute inset-0 flex items-center justify-center pointer-events-none"
                style="z-index: 10"
              >
                <div id="selectedDollImage">
                  <img
                    src=""
                    alt="ËßíËâ≤"
                    class="w-90 object-cover rounded-lg shadow-lg img-cha"
                    onerror="this.src='data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAwIiBoZWlnaHQ9IjI4MCIgdmlld0JveD0iMCAwIDEyMCAxNjAiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PGNpcmNsZSBjeD0iNjAiIGN5PSIzNSIgcj0iMjUiIGZpbGw9IiNmZGJjYjQiLz48cGF0aCBkPSJNMzUgMjUgUTYwIDEwIDg1IDI1IFE4NSAxNSA2MCAxNSBRMzUgMTUgMzUgMjUiIGZpbGw9IiM4YjQ1MTMiLz48Y2lyY2xlIGN4PSI1MiIgY3k9IjMyIiByPSIzIiBmaWxsPSIjMDAwIi8+PGNpcmNsZSBjeD0iNjgiIGN5PSIzMiIgcj0iMyIgZmlsbD0iIzAwMCIvPjxwYXRoIGQ9Ik01NSA0MEFRNTQ2MCA0MyA2NSA0MCIgc3Ryb2tlPSIjMDAwIiBzdHJva2Utd2lkdGg9IjEiIGZpbGw9Im5vbmUiLz48cmVjdCB4PSI0NSIgeT0iNjAiIHdpZHRoPSIzMCIgaGVpZ2h0PSI0MCIgcng9IjE1IiBmaWxsPSIjZmY2OWI0Ii8+PGNpcmNsZSBjeD0iMzUiIGN5PSI3MCIgcj0iOCIgZmlsbD0iI2ZkYmNiNCIvPjxjaXJjbGUgY3g9Ijg1IiBjeT0iNzAiIHI9IjgiIGZpbGw9IiNmZGJjYjQiLz48cGF0aCBkPSJNNDAgMTAwIFE2MCAxMTAgODAgMTAwIEw4NSAxMzAgUTYwIDEzNSAzNSAxMzAgWiIgZmlsbD0iI2ZmMTQ5MyIvPjxyZWN0IHg9IjUwIiB5PSIxMzAiIHdpZHRoPSI2IiBoZWlnaHQ9IjI1IiBmaWxsPSIjZmRiY2I0Ii8+PHJlY3QgeD0iNjQiIHk9IjEzMCIgd2lkdGg9IjYiIGhlaWdodD0iMjUiIGZpbGw9IiNmZGJjYjQiLz48ZWxsaXBzZSBjeD0iNTMiIGN5PSIxNTciIHJ4PSI4IiByeT0iMyIgZmlsbD0iIzAwMCIvPjxlbGxpcHNlIGN4PSI2NyIgY3k9IjE1NyIgcng9IjgiIHJ5PSIzIiBmaWxsPSIjMDAwIi8+PC9zdmc+'; this.alt='Â•≥Â≠©ËßíËâ≤ÂúñÁâáËºâÂÖ•Â§±Êïó'; this.className='w-48 h-64 object-cover rounded-lg shadow-lg';"
                  />
                </div>
              </div>
              <!-- ÊîæÁΩÆÁöÑÁâ©‰ª∂ÊúÉÂá∫ÁèæÂú®ÈÄôË£° -->
            </div>
          </div>
        </div>
      </div>

      <!-- Êìç‰ΩúË™™Êòé -->
      <div class="mt-6 bg-white rounded-2xl shadow-lg p-6">
        <h3 class="text-xl font-bold text-gray-800 mb-3">üì± Êìç‰ΩúË™™Êòé</h3>
        <div
          class="grid grid-cols-1 md:grid-cols-6 gap-4 text-sm text-gray-600"
        >
          <div class="flex items-center space-x-2">
            <span class="text-blue-500">üëÜ</span>
            <span>ÈªûÊìäÁâ©‰ª∂ÊãñÊãΩÂà∞ËßíËâ≤Ë∫´‰∏ä</span>
          </div>
          <div class="flex items-center space-x-2">
            <span class="text-green-500">üîç</span>
            <span>ÊãñÊãΩÂè≥‰∏ãËßíÂúìÈªûË™øÊï¥Â§ßÂ∞è</span>
          </div>
          <div class="flex items-center space-x-2">
            <span class="text-purple-500">üìö</span>
            <span>ÈªûÊìäÁâ©‰ª∂Ë™øÊï¥ÂâçÂæåÂ±§Á¥ö</span>
          </div>
          <div class="flex items-center space-x-2">
            <span class="text-orange-500">üîÑ</span>
            <span>‰ΩøÁî®ÊóãËΩâÊåâÈàïË™øÊï¥ËßíÂ∫¶</span>
          </div>
          <div class="flex items-center space-x-2">
            <span class="text-cyan-500">ü™û</span>
            <span>‰ΩøÁî®Èè°ÂÉèÊåâÈàïÁøªËΩâÁâ©‰ª∂</span>
          </div>
          <div class="flex items-center space-x-2">
            <span class="text-red-500">‚ùå</span>
            <span>ÈªûÊìäÁâ©‰ª∂È°ØÁ§∫ÊéßÂà∂ÊåâÈàï</span>
          </div>
        </div>
      </div>
    </div>

    <script>
      // Áâ©‰ª∂Êï∏Êìö
      const items = [
        {
          id: 1,
          name: "Ë•øÁìú",
          imgUrl: "./img/item/",
          fallbackSvg:
            "data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTAwIiBoZWlnaHQ9IjEwMCIgdmlld0JveD0iMCAwIDEwMCAxMDAiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHJlY3QgeD0iMjAiIHk9IjMwIiB3aWR0aD0iNjAiIGhlaWdodD0iNTAiIHJ4PSI1IiBmaWxsPSIjNjM2NmYxIi8+PHJlY3QgeD0iMTAiIHk9IjIwIiB3aWR0aD0iMjAiIGhlaWdodD0iMzAiIHJ4PSI1IiBmaWxsPSIjNjM2NmYxIi8+PHJlY3QgeD0iNzAiIHk9IjIwIiB3aWR0aD0iMjAiIGhlaWdodD0iMzAiIHJ4PSI1IiBmaWxsPSIjNjM2NmYxIi8+PC9zdmc+",
        },
        {
          id: 2,
          name: "Ê´ªÊ°É",
          imgUrl: "./img/hea.PNG",
          fallbackSvg:
            "data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTAwIiBoZWlnaHQ9IjEwMCIgdmlld0JveD0iMCAwIDEwMCAxMDAiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHJlY3QgeD0iMjAiIHk9IjMwIiB3aWR0aD0iNjAiIGhlaWdodD0iNTAiIHJ4PSI1IiBmaWxsPSIjNjM2NmYxIi8+PHJlY3QgeD0iMTAiIHk9IjIwIiB3aWR0aD0iMjAiIGhlaWdodD0iMzAiIHJ4PSI1IiBmaWxsPSIjNjM2NmYxIi8+PHJlY3QgeD0iNzAiIHk9IjIwIiB3aWR0aD0iMjAiIGhlaWdodD0iMzAiIHJ4PSI1IiBmaWxsPSIjNjM2NmYxIi8+PC9zdmc+",
        },
        {
          id: 3,
          name: "Ê™∏Ê™¨",
          imgUrl: "./img/eunh.PNG",
          fallbackSvg:
            "data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTAwIiBoZWlnaHQ9IjEwMCIgdmlld0JveD0iMCAwIDEwMCAxMDAiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHJlY3QgeD0iMjAiIHk9IjMwIiB3aWR0aD0iNjAiIGhlaWdodD0iNTAiIHJ4PSI1IiBmaWxsPSIjNjM2NmYxIi8+PHJlY3QgeD0iMTAiIHk9IjIwIiB3aWR0aD0iMjAiIGhlaWdodD0iMzAiIHJ4PSI1IiBmaWxsPSIjNjM2NmYxIi8+PHJlY3QgeD0iNzAiIHk9IjIwIiB3aWR0aD0iMjAiIGhlaWdodD0iMzAiIHJ4PSI1IiBmaWxsPSIjNjM2NmYxIi8+PC9zdmc+",
        },
        {
          id: 4,
          name: "ËóçËéì",
          imgUrl: "./img/item/shin.PNG",
          fallbackSvg:
            "data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTAwIiBoZWlnaHQ9IjEwMCIgdmlld0JveD0iMCAwIDEwMCAxMDAiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHJlY3QgeD0iMjAiIHk9IjMwIiB3aWR0aD0iNjAiIGhlaWdodD0iNTAiIHJ4PSI1IiBmaWxsPSIjNjM2NmYxIi8+PHJlY3QgeD0iMTAiIHk9IjIwIiB3aWR0aD0iMjAiIGhlaWdodD0iMzAiIHJ4PSI1IiBmaWxsPSIjNjM2NmYxIi8+PHJlY3QgeD0iNzAiIHk9IjIwIiB3aWR0aD0iMjAiIGhlaWdodD0iMzAiIHJ4PSI1IiBmaWxsPSIjNjM2NmYxIi8+PC9zdmc+",
        },
        {
          id: 5,
          name: "ËòãÊûú",
          imgUrl: "./img/item/eunh.PNG",
          fallbackSvg:
            "data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTAwIiBoZWlnaHQ9IjEwMCIgdmlld0JveD0iMCAwIDEwMCAxMDAiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PGVsbGlwc2UgY3g9IjUwIiBjeT0iODAiIHJ4PSI0MCIgcnk9IjgiIGZpbGw9IiMzNzM3MzciLz48cmVjdCB4PSIzNSIgeT0iMjAiIHdpZHRoPSIzMCIgaGVpZ2h0PSI2MCIgcng9IjUiIGZpbGw9IiMzNzM3MzciLz48L3N2Zz4=",
        },
        {
          id: 6,
          name: "ËçâËéì",
          imgUrl: "./img/item/hea.PNG",
          fallbackSvg:
            "data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTAwIiBoZWlnaHQ9IjEwMCIgdmlld0JveD0iMCAwIDEwMCAxMDAiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PGVsbGlwc2UgY3g9IjUwIiBjeT0iODAiIHJ4PSI0MCIgcnk9IjgiIGZpbGw9IiMzNzM3MzciLz48cmVjdCB4PSIzNSIgeT0iMjAiIHdpZHRoPSIzMCIgaGVpZ2h0PSI2MCIgcng9IjUiIGZpbGw9IiMzNzM3MzciLz48L3N2Zz4=",
        },
        {
          id: 7,

          name: "È≥≥Ê¢®",
          imgUrl: "./img/item/kyu.png",
          fallbackSvg:
            "data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTAwIiBoZWlnaHQ9IjEwMCIgdmlld0JveD0iMCAwIDEwMCAxMDAiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PGVsbGlwc2UgY3g9IjUwIiBjeT0iNzAiIHJ4PSIzNSIgcnk9IjE1IiBmaWxsPSIjZGMxODQ4Ii8+PHJlY3QgeD0iNDUiIHk9IjIwIiB3aWR0aD0iMTAiIGhlaWdodD0iNTAiIGZpbGw9IiNkYzE4NDgiLz48L3N2Zz4=",
        },
        {
          id: 8,

          name: "Ëë°ËêÑ",
          imgUrl: "./img/item/kyu.png",
          fallbackSvg:
            "data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTAwIiBoZWlnaHQ9IjEwMCIgdmlld0JveD0iMCAwIDEwMCAxMDAiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PGVsbGlwc2UgY3g9IjUwIiBjeT0iNzAiIHJ4PSIzNSIgcnk9IjE1IiBmaWxsPSIjZGMxODQ4Ii8+PHJlY3QgeD0iNDUiIHk9IjIwIiB3aWR0aD0iMTAiIGhlaWdodD0iNTAiIGZpbGw9IiNkYzE4NDgiLz48L3N2Zz4=",
        },
        {
          id: 9,

          name: "Ê©òÂ≠ê",
          imgUrl: "./img/item/kyu.png",
          fallbackSvg:
            "data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTAwIiBoZWlnaHQ9IjEwMCIgdmlld0JveD0iMCAwIDEwMCAxMDAiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PGVsbGlwc2UgY3g9IjUwIiBjeT0iNzAiIHJ4PSIzNSIgcnk9IjE1IiBmaWxsPSIjZGMxODQ4Ii8+PHJlY3QgeD0iNDUiIHk9IjIwIiB3aWR0aD0iMTAiIGhlaWdodD0iNTAiIGZpbGw9IiNkYzE4NDgiLz48L3N2Zz4=",
        },
      ];

      let placedItems = [];
      let draggedItem = null;
      let isDragging = false;
      let isResizing = false;
      let currentResizeItem = null;
      let selectedDoll = { type: "girl", name: "Â•≥Â≠©" };

      // ËßíËâ≤ÂúñÁâáÊï∏Êìö
      const dollImages = {
        idol3: `<img src="./img/yesung.jpeg"
                         alt="yesung"
                         class="w-90 object-cover rounded-lg"
                         onerror="this.src='data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAwIiBoZWlnaHQ9IjI4MCIgdmlld0JveD0iMCAwIDEyMCAxNjAiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PGNpcmNsZSBjeD0iNjAiIGN5PSIzNSIgcj0iMjUiIGZpbGw9IiNmZGJjYjQiLz48cGF0aCBkPSJNMzUgMjUgUTYwIDEwIDg1IDI1IFE4NSAxNSA2MCAxNSBRMzUgMTUgMzUgMjUiIGZpbGw9IiM4YjQ1MTMiLz48Y2lyY2xlIGN4PSI1MiIgY3k9IjMyIiByPSIzIiBmaWxsPSIjMDAwIi8+PGNpcmNsZSBjeD0iNjgiIGN5PSIzMiIgcj0iMyIgZmlsbD0iIzAwMCIvPjxwYXRoIGQ9Ik01NSA0MCBRNTQ2MCA0MyA2NSA0MCIgc3Ryb2tlPSIjMDAwIiBzdHJva2Utd2lkdGg9IjEiIGZpbGw9Im5vbmUiLz48cmVjdCB4PSI0NSIgeT0iNjAiIHdpZHRoPSIzMCIgaGVpZ2h0PSI0MCIgcng9IjE1IiBmaWxsPSIjZmY2OWI0Ii8+PGNpcmNsZSBjeD0iMzUiIGN5PSI3MCIgcj0iOCIgZmlsbD0iI2ZkYmNiNCIvPjxjaXJjbGUgY3g9Ijg1IiBjeT0iNzAiIHI9IjgiIGZpbGw9IiNmZGJjYjQiLz48cGF0aCBkPSJNNDAgMTAwIFE2MCAxMTAgODAgMTAwIEw4NSAxMzAgUTYwIDEzNSAzNSAxMzAgWiIgZmlsbD0iI2ZmMTQ5MyIvPjxyZWN0IHg9IjUwIiB5PSIxMzAiIHdpZHRoPSI2IiBoZWlnaHQ9IjI1IiBmaWxsPSIjZmRiY2I0Ii8+PHJlY3QgeD0iNjQiIHk9IjEzMCIgd2lkdGg9IjYiIGhlaWdodD0iMjUiIGZpbGw9IiNmZGJjYjQiLz48ZWxsaXBzZSBjeD0iNTMiIGN5PSIxNTciIHJ4PSI4IiByeT0iMyIgZmlsbD0iIzAwMCIvPjxlbGxpcHNlIGN4PSI2NyIgY3k9IjE1NyIgcng9IjgiIHJ5PSIzIiBmaWxsPSIjMDAwIi8+PC9zdmc+'; this.alt='ÂúñÁâáËºâÂÖ•Â§±Êïó'; this.className='w-48 h-64 object-cover rounded-lg shadow-lg';">`,
        idol4: `<img src="./img/shin.PNG"
                         alt="shin"
                         class="w-90 object-cover rounded-lg"
                         onerror="this.src='data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAwIiBoZWlnaHQ9IjI4MCIgdmlld0JveD0iMCAwIDEyMCAxNjAiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PGNpcmNsZSBjeD0iNjAiIGN5PSIzNSIgcj0iMjUiIGZpbGw9IiNmZGJjYjQiLz48cGF0aCBkPSJNMzUgMjUgUTYwIDEwIDg1IDI1IFE4NSAxNSA2MCAxNSBRMzUgMTUgMzUgMjUiIGZpbGw9IiM4YjQ1MTMiLz48Y2lyY2xlIGN4PSI1MiIgY3k9IjMyIiByPSIzIiBmaWxsPSIjMDAwIi8+PGNpcmNsZSBjeD0iNjgiIGN5PSIzMiIgcj0iMyIgZmlsbD0iIzAwMCIvPjxwYXRoIGQ9Ik01NSA0MCBRNTQ2MCA0MyA2NSA0MCIgc3Ryb2tlPSIjMDAwIiBzdHJva2Utd2lkdGg9IjEiIGZpbGw9Im5vbmUiLz48cmVjdCB4PSI0NSIgeT0iNjAiIHdpZHRoPSIzMCIgaGVpZ2h0PSI0MCIgcng9IjE1IiBmaWxsPSIjZmY2OWI0Ii8+PGNpcmNsZSBjeD0iMzUiIGN5PSI3MCIgcj0iOCIgZmlsbD0iI2ZkYmNiNCIvPjxjaXJjbGUgY3g9Ijg1IiBjeT0iNzAiIHI9IjgiIGZpbGw9IiNmZGJjYjQiLz48cGF0aCBkPSJNNDAgMTAwIFE2MCAxMTAgODAgMTAwIEw4NSAxMzAgUTYwIDEzNSAzNSAxMzAgWiIgZmlsbD0iI2ZmMTQ5MyIvPjxyZWN0IHg9IjUwIiB5PSIxMzAiIHdpZHRoPSI2IiBoZWlnaHQ9IjI1IiBmaWxsPSIjZmRiY2I0Ii8+PHJlY3QgeD0iNjQiIHk9IjEzMCIgd2lkdGg9IjYiIGhlaWdodD0iMjUiIGZpbGw9IiNmZGJjYjQiLz48ZWxsaXBzZSBjeD0iNTMiIGN5PSIxNTciIHJ4PSI4IiByeT0iMyIgZmlsbD0iIzAwMCIvPjxlbGxpcHNlIGN4PSI2NyIgY3k9IjE1NyIgcng9IjgiIHJ5PSIzIiBmaWxsPSIjMDAwIi8+PC9zdmc+'; this.alt='ÂúñÁâáËºâÂÖ•Â§±Êïó'; this.className='w-48 h-64 object-cover rounded-lg shadow-lg';">`,

        idol5: `<img src="./img/eunh.PNG"
                         alt="eunhyuk"
                        class="w-90 object-cover rounded-lg"
                        onerror="this.src='data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAwIiBoZWlnaHQ9IjI4MCIgdmlld0JveD0iMCAwIDEyMCAxNjAiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PGNpcmNsZSBjeD0iNjAiIGN5PSIzNSIgcj0iMjUiIGZpbGw9IiNmZGJjYjQiLz48cGF0aCBkPSJNMzUgMjAgUTYwIDUgODUgMjAgUTg1IDI1IDYwIDI1IFEzNSAyNSAzNSAyMCIgZmlsbD0iIzY1NDMyMSIvPjxjaXJjbGUgY3g9IjUyIiBjeT0iMzIiIHI9IjMiIGZpbGw9IiMwMDAiLz48Y2lyY2xlIGN4PSI2OCIgY3k9IjMyIiByPSIzIiBmaWxsPSIjMDAwIi8+PHBhdGggZD0iTTU1IDQwIFE2MCA0MyA2NSA0MCIgc3Ryb2tlPSIjMDAwIiBzdHJva2Utd2lkdGg9IjEiIGZpbGw9Im5vbmUiLz48cmVjdCB4PSI0NSIgeT0iNjAiIHdpZHRoPSIzMCIgaGVpZ2h0PSI1MCIgcng9IjE1IiBmaWxsPSIjNDE2OWUxIi8+PGNpcmNsZSBjeD0iMzUiIGN5PSI3NSIgcj0iOCIgZmlsbD0iI2ZkYmNiNCIvPjxjaXJjbGUgY3g9Ijg1IiBjeT0iNzUiIHI9IjgiIGZpbGw9IiNmZGJjYjQiLz48cmVjdCB4PSI0OCIgeT0iMTEwIiB3aWR0aD0iMjQiIGhlaWdodD0iMzUiIHJ4PSIxMiIgZmlsbD0iIzJmNGY0ZiIvPjxyZWN0IHg9IjUwIiB5PSIxMzAiIHdpZHRoPSI2IiBoZWlnaHQ9IjI1IiBmaWxsPSIjZmRiY2I0Ii8+PHJlY3QgeD0iNjQiIHk9IjEzMCIgd2lkdGg9IjYiIGhlaWdodD0iMjUiIGZpbGw9IiNmZGJjYjQiLz48ZWxsaXBzZSBjeD0iNTMiIGN5PSIxNTciIHJ4PSI4IiByeT0iMyIgZmlsbD0iIzhiNDUxMyIvPjxlbGxpcHNlIGN4PSI2NyIgY3k9IjE1NyIgcng9IjgiIHJ5PSIzIiBmaWxsPSIjOGI0NTEzIi8+PC9zdmc+'; this.alt='ÂúñÁâáËºâÂÖ•Â§±Êïó'; this.className='w-48 h-64 object-cover rounded-lg shadow-lg';">`,
        idol6: `<img src="./img/hea.PNG"
                         alt="hea"
                        class="w-90 object-cover rounded-lg"
                         onerror="this.src='data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAwIiBoZWlnaHQ9IjI2MCIgdmlld0JveD0iMCAwIDEyMCAxNDAiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PGNpcmNsZSBjeD0iNjAiIGN5PSI0MCIgcj0iMzAiIGZpbGw9IiNmZGJjYjQiLz48cGF0aCBkPSJNMzUgMjUgUTYwIDE1IDg1IDI1IFE4MCAyMCA2MCAyMCBRNDAgMjAgMzUgMjUiIGZpbGw9IiNkYWE1MjAiLz48Y2lyY2xlIGN4PSI1MiIgY3k9IjM3IiByPSI0IiBmaWxsPSIjMDAwIi8+PGNpcmNsZSBjeD0iNjgiIGN5PSIzNyIgcj0iNCIgZmlsbD0iIzAwMCIvPjxjaXJjbGUgY3g9IjYwIiBjeT0iNDUiIHI9IjIiIGZpbGw9IiNmZjY5YjQiLz48ZWxsaXBzZSBjeD0iNjAiIGN5PSI5MCIgcng9IjI1IiByeT0iMzUiIGZpbGw9IiM5OGZiOTgiLz48Y2lyY2xlIGN4PSI0MCIgY3k9IjgwIiByPSIxMCIgZmlsbD0iI2ZkYmNiNCIvPjxjaXJjbGUgY3g9IjgwIiBjeT0iODAiIHI9IjEwIiBmaWxsPSIjZmRiY2I0Ii8+PGVsbGlwc2UgY3g9IjUwIiBjeT0iMTIwIiByeD0iOCIgcnk9IjE1IiBmaWxsPSIjZmRiY2I0Ii8+PGVsbGlwc2UgY3g9IjcwIiBjeT0iMTIwIiByeD0iOCIgcnk9IjE1IiBmaWxsPSIjZmRiY2I0Ii8+PC9zdmc+'; this.alt='ÂúñÁâáËºâÂÖ•Â§±Êïó'; this.className='w-48 h-64 object-cover rounded-lg shadow-lg';">`,
        idol9: `<img src="./img/kyu.jpeg"
                         alt="kyu"
                        class="w-90 object-cover rounded-lg"
                            onerror="this.src='data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAwIiBoZWlnaHQ9IjI4MCIgdmlld0JveD0iMCAwIDEyMCAxNjAiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PGNpcmNsZSBjeD0iNjAiIGN5PSIzNSIgcj0iMjUiIGZpbGw9IiNmZGJjYjQiLz48cGF0aCBkPSJNMzUgMjAgUTYwIDEwIDg1IDIwIFE4NSAyNSA2MCAyNSBRMzUgMjUgMzUgMjAiIGZpbGw9IiNkM2QzZDMiLz48Y2lyY2xlIGN4PSI1MiIgY3k9IjMyIiByPSI4IiBmaWxsPSJub25lIiBzdHJva2U9IiMwMDAiIHN0cm9rZS13aWR0aD0iMiIvPjxjaXJjbGUgY3g9IjY4IiBjeT0iMzIiIHI9IjgiIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzAwMCIgc3Ryb2tlLXdpZHRoPSIyIi8+PGxpbmUgeDE9IjYwIiB5MT0iMzIiIHgyPSI2MCIgeTI9IjMyIiBzdHJva2U9IiMwMDAiIHN0cm9rZS13aWR0aD0iMiIvPjxjaXJjbGUgY3g9IjUyIiBjeT0iMzIiIHI9IjIiIGZpbGw9IiMwMDAiLz48Y2lyY2xlIGN4PSI2OCIgY3k9IjMyIiByPSIyIiBmaWxsPSIjMDAwIi8+PHBhdGggZD0iTTU1IDQyIFE2MCA0NSA2NSA0MiIgc3Ryb2tlPSIjMDAwIiBzdHJva2Utd2lkdGg9IjEiIGZpbGw9Im5vbmUiLz48cmVjdCB4PSI0NSIgeT0iNjAiIHdpZHRoPSIzMCIgaGVpZ2h0PSI0NSIgcng9IjE1IiBmaWxsPSIjODAwMDgwIi8+PGNpcmNsZSBjeD0iMzUiIGN5PSI3NSIgcj0iOCIgZmlsbD0iI2ZkYmNiNCIvPjxjaXJjbGUgY3g9Ijg1IiBjeT0iNzUiIHI9IjgiIGZpbGw9IiNmZGJjYjQiLz48cGF0aCBkPSJNNDAgMTA1IFE2MCAxMTUgODAgMTA1IEw4NSAxMzUgUTYwIDE0MCAzNSAxMzUgWiIgZmlsbD0iIzRiMDA4MiIvPjxyZWN0IHg9IjUwIiB5PSIxMzUiIHdpZHRoPSI2IiBoZWlnaHQ9IjIwIiBmaWxsPSIjZmRiY2I0Ii8+PHJlY3QgeD0iNjQiIHk9IjEzNSIgd2lkdGg9IjYiIGhlaWdodD0iMjAiIGZpbGw9IiNmZGJjYjQiLz48ZWxsaXBzZSBjeD0iNTMiIGN5PSIxNTciIHJ4PSI4IiByeT0iMyIgZmlsbD0iIzAwMCIvPjxlbGxpcHNlIGN4PSI2NyIgY3k9IjE1NyIgcng9IjgiIHJ5PSIzIiBmaWxsPSIjMDAwIi8+PC9zdmc+'; this.alt='ÂúñÁâáËºâÂÖ•Â§±Êïó'; this.className='w-48 h-64 object-cover rounded-lg shadow-lg';">`,
      };

      // ÈÅ∏ÊìáËßíËâ≤
      function selectDoll(dollType, name) {
        selectedDoll = { type: dollType, name };
        document.getElementById("selectedDollImage").innerHTML =
          dollImages[dollType];

        // ÂàáÊèõÈ†ÅÈù¢
        document.getElementById("dollSelectionPage").style.display = "none";
        document.getElementById("gameMainPage").style.display = "block";

        // ÈáçÁΩÆÈÅäÊà≤ÁãÄÊÖã
        placedItems = [];
        draggedItem = null;

        // ÂàùÂßãÂåñÈÅäÊà≤ÂäüËÉΩ
        initGame();
        renderPlacedItems();
        updateItemCount();
      }

      // ËøîÂõûËßíËâ≤ÈÅ∏ÊìáÈ†ÅÈù¢
      function backToDollSelection() {
        if (
          placedItems.length > 0 &&
          !confirm("ËøîÂõûÈÅ∏ÊìáÈ†ÅÈù¢Â∞áÊ∏ÖÈô§ÊâÄÊúâË£ùÊâÆÔºåÁ¢∫ÂÆöË¶ÅÁπºÁ∫åÂóéÔºü")
        ) {
          return;
        }

        document.getElementById("gameMainPage").style.display = "none";
        document.getElementById("dollSelectionPage").style.display = "block";

        // ÈáçÁΩÆÈÅäÊà≤ÁãÄÊÖã
        placedItems = [];
        draggedItem = null;
        isDragging = false;
        isResizing = false;
        currentResizeItem = null;
        currentDragItem = null;
        document.body.style.cursor = "default";

        // Ê∏ÖÈô§ËßíËâ≤ÂçÄÂüüÁöÑÊâÄÊúâÁâ©‰ª∂
        const dollArea = document.getElementById("dollArea");
        if (dollArea) {
          const existingItems = dollArea.querySelectorAll(".placed-item");
          existingItems.forEach((item) => item.remove());
        }

        updateItemCount();
      }

      // ÂàùÂßãÂåñ
      function init() {
        // Âè™Âú®ÈÅäÊà≤È†ÅÈù¢È°ØÁ§∫ÊôÇÊâçÂàùÂßãÂåñÈÅäÊà≤ÂäüËÉΩ
        if (document.getElementById("gameMainPage").style.display !== "none") {
          renderItems();
          setupEventListeners();
        }
      }

      // ÂàùÂßãÂåñÈÅäÊà≤
      function initGame() {
        renderItems();
        setupEventListeners();
      }

      // Ê∏≤ÊüìÁâ©‰ª∂
      function renderItems() {
        const container = document.getElementById("itemsContainer");
        container.innerHTML = "";

        items.forEach((item) => {
          const itemElement = document.createElement("div");
          itemElement.className =
            "item-slot bg-gradient-to-br from-blue-50 to-purple-50 rounded-xl p-4 text-center cursor-pointer border-2 border-transparent hover:border-blue-300 transition-all";
          itemElement.innerHTML = `
                    <div class="mb-2 flex justify-center">
                        <img src="${item.imgUrl}" 
                             alt="${item.name}" 
                             class="w-12 h-12 object-cover rounded-lg"
                             onerror="this.src='${item.fallbackSvg}'; this.alt='${item.name}ÂúñÁâáËºâÂÖ•Â§±Êïó';">
                    </div>
                    <div class="text-sm font-medium text-gray-700">${item.name}</div>
                `;
          itemElement.addEventListener("click", () => selectItem(item));
          container.appendChild(itemElement);
        });
      }

      // ÈÅ∏ÊìáÁâ©‰ª∂
      function selectItem(item) {
        if (placedItems.length >= 10) {
          alert("ÊúÄÂ§öÂè™ËÉΩÊîæÁΩÆ10ÂÄãÁâ©‰ª∂ÔºÅ");
          return;
        }

        draggedItem = {
          ...item,
          size: 60,
          x: 50,
          y: 50,
          zIndex: 50,
          rotation: 0,
          flipX: false,
          flipY: false,
        };
        document.body.style.cursor = "move";
      }

      // ÈÅ∏ÊìáÂ∑≤ÊîæÁΩÆÁöÑÁâ©‰ª∂
      function selectPlacedItem(itemId) {
        // Ê∏ÖÈô§ÂÖ∂‰ªñÁâ©‰ª∂ÁöÑÈÅ∏‰∏≠ÁãÄÊÖã
        document.querySelectorAll(".placed-item").forEach((el) => {
          el.classList.remove("selected");
        });

        // ÈÅ∏‰∏≠Áï∂ÂâçÁâ©‰ª∂
        const itemElement = document.querySelector(
          `[data-item-id="${itemId}"]`
        );
        if (itemElement) {
          itemElement.classList.add("selected");
        }
      }

      // Ë™øÊï¥Áâ©‰ª∂Â±§Á¥ö
      function adjustLayer(itemId, layer) {
        const item = placedItems.find((p) => p.id === itemId);
        if (item) {
          if (layer === "front") {
            item.zIndex = 200; // ËßíËâ≤ÂâçÈù¢
          } else if (layer === "back") {
            item.zIndex = 5; // ËßíËâ≤ÂæåÈù¢
          }

          const itemElement = document.querySelector(
            `[data-item-id="${itemId}"]`
          );
          if (itemElement) {
            itemElement.style.zIndex = item.zIndex;
          }
        }
      }

      // ÊóãËΩâÁâ©‰ª∂
      function rotateItem(itemId, direction) {
        const item = placedItems.find((p) => p.id === itemId);
        if (item) {
          if (direction === "left") {
            item.rotation = (item.rotation - 15) % 360;
          } else if (direction === "right") {
            item.rotation = (item.rotation + 15) % 360;
          }

          updateItemTransform(itemId);
        }
      }

      // Èè°ÂÉèÁøªËΩâÁâ©‰ª∂
      function flipItem(itemId, direction) {
        const item = placedItems.find((p) => p.id === itemId);
        if (item) {
          if (direction === "horizontal") {
            item.flipX = !item.flipX;
          } else if (direction === "vertical") {
            item.flipY = !item.flipY;
          }

          updateItemTransform(itemId);
        }
      }

      // Êõ¥Êñ∞Áâ©‰ª∂ËÆäÊèõÊïàÊûú
      function updateItemTransform(itemId) {
        const item = placedItems.find((p) => p.id === itemId);
        const itemElement = document.querySelector(
          `[data-item-id="${itemId}"]`
        );
        if (item && itemElement) {
          const img = itemElement.querySelector("img");
          if (img) {
            const scaleX = item.flipX ? -1 : 1;
            const scaleY = item.flipY ? -1 : 1;
            const rotation = item.rotation || 0;
            img.style.transform = `rotate(${rotation}deg) scaleX(${scaleX}) scaleY(${scaleY})`;
          }
        }
      }

      // Ë®≠ÁΩÆ‰∫ã‰ª∂Áõ£ËÅΩÂô®
      function setupEventListeners() {
        const dollArea = document.getElementById("dollArea");

        // ÈªûÊìäËßíËâ≤ÂçÄÂüüÊîæÁΩÆÁâ©‰ª∂
        dollArea.addEventListener("click", (e) => {
          if (draggedItem && !isDragging && !isResizing) {
            e.preventDefault();
            const rect = dollArea.getBoundingClientRect();
            const x = ((e.clientX - rect.left) / rect.width) * 100;
            const y = ((e.clientY - rect.top) / rect.height) * 100;

            const newItem = {
              ...draggedItem,
              id: Date.now(),
              x: Math.max(5, Math.min(85, x)),
              y: Math.max(5, Math.min(85, y)),
              rotation: 0,
              flipX: false,
              flipY: false,
            };

            placedItems.push(newItem);
            draggedItem = null;
            document.body.style.cursor = "default";
            renderPlacedItems();
            updateItemCount();
          } else if (!draggedItem && !isDragging && e.target === dollArea) {
            // ÈªûÊìäÁ©∫ÁôΩËôïÊ∏ÖÈô§ÊâÄÊúâÈÅ∏‰∏≠ÁãÄÊÖã
            document.querySelectorAll(".placed-item").forEach((el) => {
              el.classList.remove("selected");
            });
          }
        });

        // Ëß∏Êë∏ÊîØÊè¥
        dollArea.addEventListener("touchend", (e) => {
          if (draggedItem && !isDragging) {
            e.preventDefault();
            const rect = dollArea.getBoundingClientRect();
            const touch = e.changedTouches[0];
            const x = ((touch.clientX - rect.left) / rect.width) * 100;
            const y = ((touch.clientY - rect.top) / rect.height) * 100;

            const newItem = {
              ...draggedItem,
              id: Date.now(),
              x: Math.max(5, Math.min(85, x)),
              y: Math.max(5, Math.min(85, y)),
              rotation: 0,
              flipX: false,
              flipY: false,
            };

            placedItems.push(newItem);
            draggedItem = null;
            document.body.style.cursor = "default";
            renderPlacedItems();
            updateItemCount();
          } else if (!draggedItem && !isDragging && e.target === dollArea) {
            // ÈªûÊìäÁ©∫ÁôΩËôïÊ∏ÖÈô§ÊâÄÊúâÈÅ∏‰∏≠ÁãÄÊÖã
            document.querySelectorAll(".placed-item").forEach((el) => {
              el.classList.remove("selected");
            });
          }
        });
      }

      // Ê∏≤ÊüìÂ∑≤ÊîæÁΩÆÁöÑÁâ©‰ª∂
      function renderPlacedItems() {
        const dollArea = document.getElementById("dollArea");
        const existingItems = dollArea.querySelectorAll(".placed-item");
        existingItems.forEach((item) => item.remove());

        placedItems.forEach((item, index) => {
          const itemElement = document.createElement("div");
          itemElement.className = "placed-item";
          itemElement.style.left = `${item.x}%`;
          itemElement.style.top = `${item.y}%`;
          itemElement.style.width = `${item.size}px`;
          itemElement.style.height = `${item.size}px`;
          itemElement.style.zIndex = item.zIndex || 50;
          itemElement.dataset.itemId = item.id;
          itemElement.innerHTML = `
                    <img src="${item.imgUrl}" 
                         alt="${item.name}" 
                         class="w-90 h-full object-cover rounded-lg pointer-events-none"
                         style="transform: rotate(${
                           item.rotation || 0
                         }deg) scaleX(${item.flipX ? -1 : 1}) scaleY(${
            item.flipY ? -1 : 1
          });"
                         onerror="this.src='${item.fallbackSvg}'; this.alt='${
            item.name
          }ÂúñÁâáËºâÂÖ•Â§±Êïó';">
                    <div class="resize-handle"></div>
                    <div class="delete-btn">√ó</div>
                    <div class="layer-controls">
                        <button class="layer-btn front" onclick="adjustLayer(${
                          item.id
                        }, 'front')">Ââç</button>
                        <button class="layer-btn back" onclick="adjustLayer(${
                          item.id
                        }, 'back')">Âæå</button>
                    </div>
                    <div class="rotate-controls">
                        <button class="layer-btn" onclick="rotateItem(${
                          item.id
                        }, 'left')">‚Ü∫</button>
                        <button class="layer-btn" onclick="rotateItem(${
                          item.id
                        }, 'right')">‚Üª</button>
                    </div>
                    <div class="mirror-controls">
                        <button class="layer-btn" onclick="flipItem(${
                          item.id
                        }, 'horizontal')">‚áÑ</button>
                        <button class="layer-btn" onclick="flipItem(${
                          item.id
                        }, 'vertical')">‚áÖ</button>
                    </div>
                `;

          // ÈªûÊìäÈÅ∏‰∏≠Áâ©‰ª∂
          itemElement.addEventListener("click", (e) => {
            if (
              e.target.classList.contains("resize-handle") ||
              e.target.classList.contains("delete-btn") ||
              e.target.classList.contains("layer-btn") ||
              e.target.closest(".rotate-controls") ||
              e.target.closest(".mirror-controls") ||
              e.target.closest(".layer-controls")
            )
              return;

            e.preventDefault();
            e.stopPropagation();
            selectPlacedItem(item.id);
          });

          // Ëß∏Êë∏ÈÅ∏‰∏≠Áâ©‰ª∂
          itemElement.addEventListener("touchend", (e) => {
            if (
              e.target.classList.contains("resize-handle") ||
              e.target.classList.contains("delete-btn") ||
              e.target.classList.contains("layer-btn") ||
              e.target.closest(".rotate-controls") ||
              e.target.closest(".mirror-controls") ||
              e.target.closest(".layer-controls")
            )
              return;
            if (isDragging) return;

            e.preventDefault();
            e.stopPropagation();
            selectPlacedItem(item.id);
          });

          // ÊãñÊãΩÂäüËÉΩ
          itemElement.addEventListener("mousedown", (e) => {
            if (
              e.target.classList.contains("resize-handle") ||
              e.target.classList.contains("delete-btn") ||
              e.target.classList.contains("layer-btn") ||
              e.target.closest(".rotate-controls") ||
              e.target.closest(".mirror-controls") ||
              e.target.closest(".layer-controls")
            )
              return;

            e.preventDefault();
            isDragging = true;
            currentDragItem = item;

            startX = e.clientX;
            startY = e.clientY;
            startItemX = item.x;
            startItemY = item.y;

            itemElement.style.zIndex = "1000";
            document.body.style.cursor = "move";
            selectPlacedItem(item.id);
          });

          // Ëß∏Êë∏ÊãñÊãΩ
          itemElement.addEventListener("touchstart", (e) => {
            if (
              e.target.classList.contains("resize-handle") ||
              e.target.classList.contains("delete-btn") ||
              e.target.classList.contains("layer-btn") ||
              e.target.closest(".rotate-controls") ||
              e.target.closest(".mirror-controls") ||
              e.target.closest(".layer-controls")
            )
              return;

            e.preventDefault();
            isDragging = true;
            currentDragItem = item;

            const touch = e.touches[0];
            startX = touch.clientX;
            startY = touch.clientY;
            startItemX = item.x;
            startItemY = item.y;

            itemElement.style.zIndex = "1000";
            selectPlacedItem(item.id);
          });

          // Ë™øÊï¥Â§ßÂ∞è
          const resizeHandle = itemElement.querySelector(".resize-handle");
          resizeHandle.addEventListener("mousedown", (e) => {
            e.stopPropagation();
            e.preventDefault();
            isResizing = true;
            currentResizeItem = item;
            document.body.style.cursor = "nw-resize";
            selectPlacedItem(item.id);
          });

          // Ëß∏Êë∏Ë™øÊï¥Â§ßÂ∞è
          resizeHandle.addEventListener("touchstart", (e) => {
            e.stopPropagation();
            e.preventDefault();
            isResizing = true;
            currentResizeItem = item;

            const touch = e.touches[0];
            resizeStartX = touch.clientX;
            resizeStartY = touch.clientY;
            resizeStartSize = item.size;
            selectPlacedItem(item.id);
          });

          // Âà™Èô§ÊåâÈàïÂäüËÉΩ
          const deleteBtn = itemElement.querySelector(".delete-btn");
          deleteBtn.addEventListener("click", (e) => {
            e.stopPropagation();
            e.preventDefault();
            if (confirm("Á¢∫ÂÆöË¶ÅÂà™Èô§ÈÄôÂÄãÁâ©‰ª∂ÂóéÔºü")) {
              placedItems = placedItems.filter((p) => p.id !== item.id);
              renderPlacedItems();
              updateItemCount();
            }
          });

          // Âà™Èô§ÊåâÈàïËß∏Êë∏ÂäüËÉΩ
          deleteBtn.addEventListener("touchend", (e) => {
            e.stopPropagation();
            e.preventDefault();
            if (confirm("Á¢∫ÂÆöË¶ÅÂà™Èô§ÈÄôÂÄãÁâ©‰ª∂ÂóéÔºü")) {
              placedItems = placedItems.filter((p) => p.id !== item.id);
              renderPlacedItems();
              updateItemCount();
            }
          });

          dollArea.appendChild(itemElement);
        });
      }

      // ÂÖ®ÂüüËÆäÊï∏Áî®ÊñºÊãñÊãΩ
      let currentDragItem = null;
      let startX, startY, startItemX, startItemY;
      let resizeStartX, resizeStartY, resizeStartSize;

      // ÂÖ®ÂüüÊªëÈº†ÁßªÂãï‰∫ã‰ª∂
      document.addEventListener("mousemove", (e) => {
        if (isDragging && !isResizing && currentDragItem) {
          const dollArea = document.getElementById("dollArea");
          const rect = dollArea.getBoundingClientRect();
          const deltaX = e.clientX - startX;
          const deltaY = e.clientY - startY;

          const deltaXPercent = (deltaX / rect.width) * 100;
          const deltaYPercent = (deltaY / rect.height) * 100;

          const newX = Math.max(0, Math.min(90, startItemX + deltaXPercent));
          const newY = Math.max(0, Math.min(90, startItemY + deltaYPercent));

          currentDragItem.x = newX;
          currentDragItem.y = newY;

          // Âç≥ÊôÇÊõ¥Êñ∞‰ΩçÁΩÆ
          const itemElement = document.querySelector(
            `[data-item-id="${currentDragItem.id}"]`
          );
          if (itemElement) {
            itemElement.style.left = `${newX}%`;
            itemElement.style.top = `${newY}%`;
          }
        } else if (isResizing && currentResizeItem) {
          const newSize = Math.max(
            20,
            Math.min(
              400,
              currentResizeItem.size + (e.movementX + e.movementY) / 2
            )
          );
          currentResizeItem.size = newSize;
          const itemElement = document.querySelector(
            `[data-item-id="${currentResizeItem.id}"]`
          );
          if (itemElement) {
            itemElement.style.width = `${newSize}px`;
            itemElement.style.height = `${newSize}px`;
          }
        }
      });

      // Ëß∏Êë∏ÁßªÂãï‰∫ã‰ª∂
      document.addEventListener("touchmove", (e) => {
        if (isDragging && !isResizing && currentDragItem) {
          e.preventDefault();
          const dollArea = document.getElementById("dollArea");
          const rect = dollArea.getBoundingClientRect();
          const touch = e.touches[0];
          const deltaX = touch.clientX - startX;
          const deltaY = touch.clientY - startY;

          const deltaXPercent = (deltaX / rect.width) * 100;
          const deltaYPercent = (deltaY / rect.height) * 100;

          const newX = Math.max(0, Math.min(90, startItemX + deltaXPercent));
          const newY = Math.max(0, Math.min(90, startItemY + deltaYPercent));

          currentDragItem.x = newX;
          currentDragItem.y = newY;

          // Âç≥ÊôÇÊõ¥Êñ∞‰ΩçÁΩÆ
          const itemElement = document.querySelector(
            `[data-item-id="${currentDragItem.id}"]`
          );
          if (itemElement) {
            itemElement.style.left = `${newX}%`;
            itemElement.style.top = `${newY}%`;
          }
        } else if (isResizing && currentResizeItem) {
          e.preventDefault();
          const touch = e.touches[0];
          const deltaX = touch.clientX - resizeStartX;
          const deltaY = touch.clientY - resizeStartY;
          const delta = (deltaX + deltaY) / 2;

          const newSize = Math.max(20, Math.min(400, resizeStartSize + delta));
          currentResizeItem.size = newSize;

          const itemElement = document.querySelector(
            `[data-item-id="${currentResizeItem.id}"]`
          );
          if (itemElement) {
            itemElement.style.width = `${newSize}px`;
            itemElement.style.height = `${newSize}px`;
          }
        }
      });

      // ÂÅúÊ≠¢ÊãñÊãΩ
      document.addEventListener("mouseup", () => {
        if (currentDragItem) {
          const itemElement = document.querySelector(
            `[data-item-id="${currentDragItem.id}"]`
          );
          if (itemElement) {
            itemElement.style.zIndex = currentDragItem.zIndex || 50;
          }
        }
        isDragging = false;
        isResizing = false;
        currentDragItem = null;
        currentResizeItem = null;
        document.body.style.cursor = "default";
      });

      document.addEventListener("touchend", () => {
        if (currentDragItem) {
          const itemElement = document.querySelector(
            `[data-item-id="${currentDragItem.id}"]`
          );
          if (itemElement) {
            itemElement.style.zIndex = currentDragItem.zIndex || 50;
          }
        }
        isDragging = false;
        isResizing = false;
        currentDragItem = null;
        currentResizeItem = null;
      });

      // Êõ¥Êñ∞Áâ©‰ª∂Ë®àÊï∏
      function updateItemCount() {
        document.getElementById("itemCount").textContent = placedItems.length;
      }

      // Ê∏ÖÈô§ÊâÄÊúâÁâ©‰ª∂
      function clearAll() {
        if (placedItems.length === 0) {
          alert("Ê≤íÊúâÁâ©‰ª∂ÂèØ‰ª•Ê∏ÖÈô§ÔºÅ");
          return;
        }

        if (confirm("Á¢∫ÂÆöË¶ÅÊ∏ÖÈô§ÊâÄÊúâÁâ©‰ª∂ÂóéÔºü")) {
          // ÈáçÁΩÆÊâÄÊúâÁãÄÊÖã
          placedItems = [];
          draggedItem = null;
          isDragging = false;
          isResizing = false;
          currentResizeItem = null;
          currentDragItem = null;
          document.body.style.cursor = "default";

          // ÈáçÊñ∞Ê∏≤ÊüìÔºàÈÄôÊúÉÊ∏ÖÈô§ÊâÄÊúâÁâ©‰ª∂Ôºâ
          renderPlacedItems();
          updateItemCount();
        }
      }

      // ÂèñÊ∂àÈÅ∏Êìá
      document.addEventListener("keydown", (e) => {
        if (e.key === "Escape" && draggedItem) {
          draggedItem = null;
          document.body.style.cursor = "default";
        }
      });

      // ÂïüÂãïÊáâÁî®
      init();
    </script>
    <script>
      (function () {
        function c() {
          var b = a.contentDocument || a.contentWindow.document;
          if (b) {
            var d = b.createElement("script");
            d.innerHTML =
              "window.__CF$cv$params={r:'97a7d27f574af1dc',t:'MTc1NzA5NzI4My4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";
            b.getElementsByTagName("head")[0].appendChild(d);
          }
        }
        if (document.body) {
          var a = document.createElement("iframe");
          a.height = 1;
          a.width = 1;
          a.style.position = "absolute";
          a.style.top = 0;
          a.style.left = 0;
          a.style.border = "none";
          a.style.visibility = "hidden";
          document.body.appendChild(a);
          if ("loading" !== document.readyState) c();
          else if (window.addEventListener)
            document.addEventListener("DOMContentLoaded", c);
          else {
            var e = document.onreadystatechange || function () {};
            document.onreadystatechange = function (b) {
              e(b);
              "loading" !== document.readyState &&
                ((document.onreadystatechange = e), c());
            };
          }
        }
      })();
    </script>
  </body>
</html>
